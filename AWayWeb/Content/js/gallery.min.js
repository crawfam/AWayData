$(function(){$.fn.imagesLoaded=function(n){function u(){n.call(e,t)}function f(){--i<=0&&this.src!==r&&(setTimeout(u),t.off("load error",f))}var t=this.find("img"),i=t.length,e=this,r="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";return i||u(),t.on("load error",f).each(function(){if(this.complete||this.complete===undefined){var n=this.src;this.src=r,this.src=n}}),this};var n=$("#rg-gallery"),t=n.find("div.es-carousel-wrapper"),i=t.find("ul > li"),r=i.length;Gallery=function(){var u=0,f="carousel",o=!1,c=function(){i.add('<img src="images/ajax-loader.gif"/><img src="images/black.png"/>').imagesLoaded(function(){l(),a(),s(i.eq(u))}),f==="carousel"&&h()},h=function(){t.show().elastislide({imageW:65,onClick:function(n){if(o)return!1;o=!0,s(n),u=n.index()}}),t.elastislide("setCurrent",u)},l=function(){var i=$('<a href="#" class="rg-view-full"><\/a>'),r=$('<a href="#" class="rg-view-thumbs rg-view-selected"><\/a>');n.prepend($('<div class="rg-view"/>').append(i).append(r));i.on("click.rgGallery",function(){return f==="carousel"&&t.elastislide("destroy"),t.hide(),i.addClass("rg-view-selected"),r.removeClass("rg-view-selected"),f="fullview",!1});r.on("click.rgGallery",function(){return h(),r.addClass("rg-view-selected"),i.removeClass("rg-view-selected"),f="carousel",!1});f==="fullview"&&i.trigger("click")},a=function(){if($("#img-wrapper-tmpl").tmpl({itemsCount:r}).appendTo(n),r>1){var t=n.find("a.rg-image-nav-prev"),i=n.find("a.rg-image-nav-next"),u=n.find("div.rg-image");t.on("click.rgGallery",function(){return e("left"),!1});i.on("click.rgGallery",function(){return e("right"),!1});u.touchwipe({wipeLeft:function(){e("right")},wipeRight:function(){e("left")},preventDefaultEvents:!1});$(document).on("keyup.rgGallery",function(n){n.keyCode==39?e("right"):n.keyCode==37&&e("left")})}},e=function(n){if(o)return!1;o=!0,n==="right"?u+1>=r?u=0:++u:n==="left"&&(u-1<0?u=r-1:--u),s(i.eq(u))},s=function(r){var c=n.find("div.rg-loading").show();i.removeClass("selected"),r.addClass("selected");var e=r.find("img"),s=e.data("large"),h=e.data("description");$("<img/>").load(function(){n.find("div.rg-image").empty().append('<img src="'+s+'"/>'),h&&n.find("div.rg-caption").show().children("p").empty().text(h),c.hide(),f==="carousel"&&(t.elastislide("reload"),t.elastislide("setCurrent",u)),o=!1}).attr("src",s)},v=function(n){t.find("ul").append(n),i=i.add($(n)),r=i.length,t.elastislide("add",n)};return{init:c,addItems:v}}(),Gallery.init()});
//# sourceMappingURL=gallery.min.js.map